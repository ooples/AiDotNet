<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class StreamingDataLoaderBase&lt;T, TInput, TOutput&gt; | AiDotNet Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class StreamingDataLoaderBase&lt;T, TInput, TOutput&gt; | AiDotNet Documentation ">
      
      <meta name="description" content="Abstract base class for streaming data loaders that process data on-demand.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ooples/AiDotNet/new/master/apiSpec/new?filename=AiDotNet_Data_Loaders_StreamingDataLoaderBase_3.md&amp;value=---%0Auid%3A%20AiDotNet.Data.Loaders.StreamingDataLoaderBase%603%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="AiDotNet">
            AiDotNet
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3">



  <h1 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3" class="text-break">
Class StreamingDataLoaderBase&lt;T, TInput, TOutput&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L28"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="AiDotNet.html">AiDotNet</a>.<a class="xref" href="AiDotNet.Data.html">Data</a>.<a class="xref" href="AiDotNet.Data.Loaders.html">Loaders</a></dd></dl>
  <dl><dt>Assembly</dt><dd>AiDotNet.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Abstract base class for streaming data loaders that process data on-demand.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract class StreamingDataLoaderBase&lt;T, TInput, TOutput&gt; : DataLoaderBase&lt;T&gt;, IStreamingDataLoader&lt;T, TInput, TOutput&gt;, IDataLoader&lt;T&gt;, IResettable, ICountable</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>T</code></dt>
    <dd><p>The numeric type used for calculations, typically float or double.</p>
</dd>
    <dt><code>TInput</code></dt>
    <dd><p>The input data type for each sample.</p>
</dd>
    <dt><code>TOutput</code></dt>
    <dd><p>The output/label data type for each sample.</p>
</dd>
  </dl>

  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html">DataLoaderBase</a>&lt;T&gt;</div>
      <div><span class="xref">StreamingDataLoaderBase&lt;T, TInput, TOutput&gt;</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="AiDotNet.Interfaces.IStreamingDataLoader-3.html">IStreamingDataLoader</a>&lt;T, TInput, TOutput&gt;</div>
      <div><a class="xref" href="AiDotNet.Interfaces.IDataLoader-1.html">IDataLoader</a>&lt;T&gt;</div>
      <div><a class="xref" href="AiDotNet.Interfaces.IResettable.html">IResettable</a></div>
      <div><a class="xref" href="AiDotNet.Interfaces.ICountable.html">ICountable</a></div>
    </dd>
  </dl>

  <dl class="typelist derived">
    <dt>Derived</dt>
    <dd>
      <div><a class="xref" href="AiDotNet.Data.Loaders.CsvStreamingDataLoader-3.html">CsvStreamingDataLoader&lt;T, TInput, TOutput&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Data.Loaders.FileStreamingDataLoader-3.html">FileStreamingDataLoader&lt;T, TInput, TOutput&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Data.Loaders.MemoryMappedStreamingDataLoader-3.html">MemoryMappedStreamingDataLoader&lt;T, TInput, TOutput&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Data.Loaders.StreamingDataLoader-3.html">StreamingDataLoader&lt;T, TInput, TOutput&gt;</a></div>
    </dd>
  </dl>

  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_Name">DataLoaderBase&lt;T&gt;.Name</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_Description">DataLoaderBase&lt;T&gt;.Description</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_IsLoaded">DataLoaderBase&lt;T&gt;.IsLoaded</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_CurrentIndex">DataLoaderBase&lt;T&gt;.CurrentIndex</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_BatchSize">DataLoaderBase&lt;T&gt;.BatchSize</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_BatchCount">DataLoaderBase&lt;T&gt;.BatchCount</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_CurrentBatchIndex">DataLoaderBase&lt;T&gt;.CurrentBatchIndex</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_Progress">DataLoaderBase&lt;T&gt;.Progress</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_Reset">DataLoaderBase&lt;T&gt;.Reset()</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_LoadAsync_System_Threading_CancellationToken_">DataLoaderBase&lt;T&gt;.LoadAsync(CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_Unload">DataLoaderBase&lt;T&gt;.Unload()</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_OnReset">DataLoaderBase&lt;T&gt;.OnReset()</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_EnsureLoaded">DataLoaderBase&lt;T&gt;.EnsureLoaded()</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_AdvanceIndex_System_Int32_">DataLoaderBase&lt;T&gt;.AdvanceIndex(int)</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Data.Loaders.DataLoaderBase-1.html#AiDotNet_Data_Loaders_DataLoaderBase_1_AdvanceBatchIndex">DataLoaderBase&lt;T&gt;.AdvanceBatchIndex()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="AiDotNet.Data.Pipeline.DataPipelineExtensions.html#AiDotNet_Data_Pipeline_DataPipelineExtensions_ToAsyncPipeline__3_AiDotNet_Interfaces_IStreamingDataLoader___0___1___2__System_Boolean_System_Nullable_System_Int32__">DataPipelineExtensions.ToAsyncPipeline&lt;T, TInput, TOutput&gt;(IStreamingDataLoader&lt;T, TInput, TOutput&gt;, bool, int?)</a>
  </div>
  <div>
      <a class="xref" href="AiDotNet.Data.Pipeline.DataPipelineExtensions.html#AiDotNet_Data_Pipeline_DataPipelineExtensions_ToPipeline__3_AiDotNet_Interfaces_IStreamingDataLoader___0___1___2__System_Boolean_System_Nullable_System_Int32__">DataPipelineExtensions.ToPipeline&lt;T, TInput, TOutput&gt;(IStreamingDataLoader&lt;T, TInput, TOutput&gt;, bool, int?)</a>
  </div>
  <div>
      <a class="xref" href="AiDotNet.Data.Pipeline.DataPipelineExtensions.html#AiDotNet_Data_Pipeline_DataPipelineExtensions_ToSamplePipeline__3_AiDotNet_Interfaces_IStreamingDataLoader___0___1___2__System_Boolean_System_Nullable_System_Int32__">DataPipelineExtensions.ToSamplePipeline&lt;T, TInput, TOutput&gt;(IStreamingDataLoader&lt;T, TInput, TOutput&gt;, bool, int?)</a>
  </div>
  </dd></dl>



  <h2 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
StreamingDataLoaderBase provides the foundation for data loaders that read data on-demand
rather than loading everything into memory. This is essential for:
- Large datasets that don't fit in RAM
- Real-time data streams
- Memory-efficient training pipelines
</p>
<p><b>For Beginners:</b> When working with huge datasets (millions of images,
terabytes of text), you can't load everything into memory at once. This base class
handles the complexity of streaming data efficiently while you focus on implementing
the actual data reading logic.
</p>
</div>


  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3__ctor_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.#ctor*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3__ctor_System_Int32_System_Int32_System_Int32_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.#ctor(System.Int32,System.Int32,System.Int32)">
  StreamingDataLoaderBase(int, int, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L42"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new instance of the StreamingDataLoaderBase class.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected StreamingDataLoaderBase(int batchSize, int prefetchCount = 2, int numWorkers = 4)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>batchSize</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Number of samples per batch.</p>
</dd>
    <dt><code>prefetchCount</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Number of batches to prefetch for improved throughput. Default is 2.</p>
</dd>
    <dt><code>numWorkers</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Number of parallel workers for sample loading. Default is 4.</p>
</dd>
  </dl>









  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentoutofrangeexception">ArgumentOutOfRangeException</a></dt>
    <dd><p>Thrown when batchSize is not positive.</p>
</dd>
  </dl>



  <h2 class="section" id="properties">Properties
</h2>


  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_NumWorkers_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.NumWorkers*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_NumWorkers" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.NumWorkers">
  NumWorkers
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L59"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the number of parallel workers for sample loading.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int NumWorkers { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_PrefetchCount_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.PrefetchCount*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_PrefetchCount" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.PrefetchCount">
  PrefetchCount
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L56"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the number of batches to prefetch for improved throughput.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int PrefetchCount { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_SampleCount_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.SampleCount*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_SampleCount" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.SampleCount">
  SampleCount
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L50"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the total number of samples in the dataset.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract int SampleCount { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_SampleCount_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This may be known upfront (e.g., from file metadata) or estimated.
For truly streaming sources where the count is unknown, this may return -1.</p>
</div>




  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_TotalCount_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.TotalCount*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_TotalCount" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.TotalCount">
  TotalCount
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L53"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the total number of samples in the dataset.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override int TotalCount { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_AggregateSamples_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.AggregateSamples*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_AggregateSamples_System_Collections_Generic_IList_System_ValueTuple__1__2___" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.AggregateSamples(System.Collections.Generic.IList{System.ValueTuple{`1,`2}})">
  AggregateSamples(IList&lt;(TInput Input, TOutput Output)&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L84"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Aggregates multiple samples into a batch.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual (TInput[] Inputs, TOutput[] Outputs) AggregateSamples(IList&lt;(TInput Input, TOutput Output)&gt; samples)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>samples</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ilist-1">IList</a>&lt;(TInput <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1,-2-.input">Input</a>, TOutput <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1,-2-.output">Output</a>)&gt;</dt>
    <dd><p>The individual samples to aggregate.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt>(TInput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.inputs">Inputs</a>, TOutput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.outputs">Outputs</a>)</dt>
    <dd><p>A tuple of arrays containing the batched inputs and outputs.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_AggregateSamples_System_Collections_Generic_IList_System_ValueTuple__1__2____remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Override this method if you need custom batching logic (e.g., padding sequences
to the same length, or stacking tensors along a new dimension).</p>
</div>




  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_GetBatches_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.GetBatches*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_GetBatches_System_Boolean_System_Boolean_System_Nullable_System_Int32__" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.GetBatches(System.Boolean,System.Boolean,System.Nullable{System.Int32})">
  GetBatches(bool, bool, int?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L100"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Iterates through the dataset in batches synchronously.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual IEnumerable&lt;(TInput[] Inputs, TOutput[] Outputs)&gt; GetBatches(bool shuffle = true, bool dropLast = false, int? seed = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>shuffle</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether to shuffle the data before batching.</p>
</dd>
    <dt><code>dropLast</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether to drop the last incomplete batch.</p>
</dd>
    <dt><code>seed</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>?</dt>
    <dd><p>Optional random seed for reproducibility.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;(TInput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.inputs">Inputs</a>, TOutput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.outputs">Outputs</a>)&gt;</dt>
    <dd><p>An enumerable of batches, each containing arrays of inputs and outputs.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_GetBatches_System_Boolean_System_Boolean_System_Nullable_System_Int32___remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Use this when you want simple, synchronous iteration.
Each iteration gives you a batch of inputs and their corresponding outputs.
</p>
</div>




  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_GetBatchesAsync_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.GetBatchesAsync*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_GetBatchesAsync_System_Boolean_System_Boolean_System_Nullable_System_Int32__System_Threading_CancellationToken_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.GetBatchesAsync(System.Boolean,System.Boolean,System.Nullable{System.Int32},System.Threading.CancellationToken)">
  GetBatchesAsync(bool, bool, int?, CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L137"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Iterates through the dataset in batches asynchronously with prefetching.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public virtual IAsyncEnumerable&lt;(TInput[] Inputs, TOutput[] Outputs)&gt; GetBatchesAsync(bool shuffle = true, bool dropLast = false, int? seed = null, CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>shuffle</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether to shuffle the data before batching.</p>
</dd>
    <dt><code>dropLast</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether to drop the last incomplete batch.</p>
</dd>
    <dt><code>seed</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>?</dt>
    <dd><p>Optional random seed for reproducibility.</p>
</dd>
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>Token to cancel the iteration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.iasyncenumerable-1">IAsyncEnumerable</a>&lt;(TInput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.inputs">Inputs</a>, TOutput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.outputs">Outputs</a>)&gt;</dt>
    <dd><p>An async enumerable of batches, each containing arrays of inputs and outputs.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_GetBatchesAsync_System_Boolean_System_Boolean_System_Nullable_System_Int32__System_Threading_CancellationToken__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> This is the recommended method for training.
It uses async/await to overlap data loading with model training, keeping
your GPU busy while the next batch is being prepared.
<p>Example:</p>
<pre><code class="lang-csharp">await foreach (var batch in loader.GetBatchesAsync(shuffle: true))
{
    await model.TrainOnBatchAsync(batch.Inputs, batch.Outputs);
}</code></pre>

</div>




  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_GetShuffledIndices_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.GetShuffledIndices*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_GetShuffledIndices_System_Boolean_System_Nullable_System_Int32__" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.GetShuffledIndices(System.Boolean,System.Nullable{System.Int32})">
  GetShuffledIndices(bool, int?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L234"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets indices for iteration, optionally shuffled.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected int[] GetShuffledIndices(bool shuffle, int? seed)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>shuffle</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether to shuffle the indices.</p>
</dd>
    <dt><code>seed</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>?</dt>
    <dd><p>Optional random seed for reproducibility.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>[]</dt>
    <dd><p>An array of indices in the desired order.</p>
</dd>
  </dl>











  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_LoadDataCoreAsync_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.LoadDataCoreAsync*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_LoadDataCoreAsync_System_Threading_CancellationToken_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.LoadDataCoreAsync(System.Threading.CancellationToken)">
  LoadDataCoreAsync(CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L260"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Core data loading implementation to be provided by derived classes.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override Task LoadDataCoreAsync(CancellationToken cancellationToken)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>Cancellation token for async operation.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task">Task</a></dt>
    <dd><p>A task that completes when loading is finished.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_LoadDataCoreAsync_System_Threading_CancellationToken__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Derived classes must implement this to perform actual data loading:
- Load from files, databases, or remote sources
- Parse and validate data format
- Store in appropriate internal structures
</p>
</div>




  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_ReadSampleAsync_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.ReadSampleAsync*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_ReadSampleAsync_System_Int32_System_Threading_CancellationToken_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.ReadSampleAsync(System.Int32,System.Threading.CancellationToken)">
  ReadSampleAsync(int, CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L71"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Reads a single sample by index.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected abstract Task&lt;(TInput Input, TOutput Output)&gt; ReadSampleAsync(int index, CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>index</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The index of the sample to read.</p>
</dd>
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>Cancellation token.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;(TInput <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1,-2-.input">Input</a>, TOutput <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1,-2-.output">Output</a>)&gt;</dt>
    <dd><p>A tuple containing the input and output for the sample.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_ReadSampleAsync_System_Int32_System_Threading_CancellationToken__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Derived classes must implement this to read a single sample from the data source.
This method is called by the batching infrastructure to build batches.</p>
</div>




  <a id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_UnloadDataCore_" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.UnloadDataCore*"></a>

  <h3 id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_UnloadDataCore" data-uid="AiDotNet.Data.Loaders.StreamingDataLoaderBase`3.UnloadDataCore">
  UnloadDataCore()
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L268"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Core data unloading implementation to be provided by derived classes.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override void UnloadDataCore()</code></pre>
  </div>









  <h4 class="section" id="AiDotNet_Data_Loaders_StreamingDataLoaderBase_3_UnloadDataCore_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Derived classes should implement this to release resources:
- Clear internal data structures
- Release file handles or connections
- Allow garbage collection of loaded data
</p>
</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ooples/AiDotNet/blob/master/src/Data/Loaders/StreamingDataLoaderBase.cs/#L28" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          AiDotNet - Enterprise AI/ML Library for .NET
        </div>
      </div>
    </footer>
  </body>
</html>
