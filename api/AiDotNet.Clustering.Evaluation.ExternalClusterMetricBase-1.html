<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class ExternalClusterMetricBase&lt;T&gt; | AiDotNet Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class ExternalClusterMetricBase&lt;T&gt; | AiDotNet Documentation ">
      
      <meta name="description" content="Base class for external cluster evaluation metrics that compare against ground truth.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ooples/AiDotNet/new/master/apiSpec/new?filename=AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1.md&amp;value=---%0Auid%3A%20AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase%601%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="AiDotNet">
            AiDotNet
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1">



  <h1 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1" class="text-break">
Class ExternalClusterMetricBase&lt;T&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L25"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="AiDotNet.html">AiDotNet</a>.<a class="xref" href="AiDotNet.Clustering.html">Clustering</a>.<a class="xref" href="AiDotNet.Clustering.Evaluation.html">Evaluation</a></dd></dl>
  <dl><dt>Assembly</dt><dd>AiDotNet.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Base class for external cluster evaluation metrics that compare against ground truth.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract class ExternalClusterMetricBase&lt;T&gt; : IExternalClusterMetric&lt;T&gt;</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>T</code></dt>
    <dd><p>The numeric type used for calculations.</p>
</dd>
  </dl>

  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">ExternalClusterMetricBase&lt;T&gt;</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="AiDotNet.Clustering.Evaluation.IExternalClusterMetric-1.html">IExternalClusterMetric</a>&lt;T&gt;</div>
    </dd>
  </dl>

  <dl class="typelist derived">
    <dt>Derived</dt>
    <dd>
      <div><a class="xref" href="AiDotNet.Clustering.Evaluation.Purity-1.html">Purity&lt;T&gt;</a></div>
    </dd>
  </dl>

  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>




  <h2 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
External cluster metrics compare clustering results against known ground truth labels.
This base class provides common functionality shared by all external metrics including
contingency table construction, entropy calculations, and pair counting.
</p>
<p><b>For Beginners:</b> This base class handles the common math that all
external metrics need:
- Building contingency tables (cross-tabulation of true vs predicted)
- Computing entropy (how "mixed" or "uncertain" clusters are)
- Counting pairs (how many point-pairs agree/disagree)
<p>Individual metrics focus on their specific formulas while this class handles the plumbing.</p>

</div>


  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1__ctor_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.#ctor*"></a>

  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1__ctor" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.#ctor">
  ExternalClusterMetricBase()
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L40"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new instance of the ExternalClusterMetricBase class.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected ExternalClusterMetricBase()</code></pre>
  </div>













  <h2 class="section" id="fields">Fields
</h2>



  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_Log2" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.Log2">
  Log2
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L35"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Precomputed log(2) for entropy calculations.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected static readonly double Log2</code></pre>
  </div>




  <h4 class="section">Field Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd></dd>
  </dl>










  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_NumOps" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.NumOps">
  NumOps
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L30"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>The numeric operations instance for type T.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected readonly INumericOperations&lt;T&gt; NumOps</code></pre>
  </div>




  <h4 class="section">Field Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="AiDotNet.Tensors.Interfaces.INumericOperations-1.html">INumericOperations</a>&lt;T&gt;</dt>
    <dd></dd>
  </dl>









  <h2 class="section" id="methods">Methods
</h2>


  <a id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_Binomial_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.Binomial*"></a>

  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_Binomial_System_Int32_System_Int32_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.Binomial(System.Int32,System.Int32)">
  Binomial(int, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L217"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Computes the binomial coefficient C(n, k).</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected static double Binomial(int n, int k)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>n</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Total number of items.</p>
</dd>
    <dt><code>k</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Number to choose.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The binomial coefficient.</p>
</dd>
  </dl>











  <a id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_BuildContingencyTable_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.BuildContingencyTable*"></a>

  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_BuildContingencyTable_AiDotNet_Tensors_LinearAlgebra_Vector__0__AiDotNet_Tensors_LinearAlgebra_Vector__0__" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.BuildContingencyTable(AiDotNet.Tensors.LinearAlgebra.Vector{`0},AiDotNet.Tensors.LinearAlgebra.Vector{`0})">
  BuildContingencyTable(Vector&lt;T&gt;, Vector&lt;T&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L60"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Builds a contingency table from true and predicted labels.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected (Dictionary&lt;(int True, int Pred), int&gt; Contingency, Dictionary&lt;int, int&gt; TrueCounts, Dictionary&lt;int, int&gt; PredCounts) BuildContingencyTable(Vector&lt;T&gt; trueLabels, Vector&lt;T&gt; predictedLabels)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>trueLabels</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Vector-1.html">Vector</a>&lt;T&gt;</dt>
    <dd><p>The ground truth labels.</p>
</dd>
    <dt><code>predictedLabels</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Vector-1.html">Vector</a>&lt;T&gt;</dt>
    <dd><p>The predicted cluster assignments.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt>(<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.dictionary-2">Dictionary</a>&lt;(<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.int32,system.int32-.true">True</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.int32,system.int32-.pred">Pred</a>), <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt; <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.collections.generic.dictionary-system.valuetuple-system.int32,system.int32-,system.int32-,system.collections.generic.dictionary-system.int32,system.int32-,system.collections.generic.dictionary-system.int32,system.int32--.contingency">Contingency</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.dictionary-2">Dictionary</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt; <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.collections.generic.dictionary-system.valuetuple-system.int32,system.int32-,system.int32-,system.collections.generic.dictionary-system.int32,system.int32-,system.collections.generic.dictionary-system.int32,system.int32--.truecounts">TrueCounts</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.dictionary-2">Dictionary</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt; <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.collections.generic.dictionary-system.valuetuple-system.int32,system.int32-,system.int32-,system.collections.generic.dictionary-system.int32,system.int32-,system.collections.generic.dictionary-system.int32,system.int32--.predcounts">PredCounts</a>)</dt>
    <dd><p>A tuple containing the contingency table, true label counts, and predicted label counts.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_BuildContingencyTable_AiDotNet_Tensors_LinearAlgebra_Vector__0__AiDotNet_Tensors_LinearAlgebra_Vector__0___remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
The contingency table is a cross-tabulation showing how many points
with each true label ended up in each predicted cluster.
</p>
</div>




  <a id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_Compute_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.Compute*"></a>

  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_Compute_AiDotNet_Tensors_LinearAlgebra_Vector__0__AiDotNet_Tensors_LinearAlgebra_Vector__0__" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.Compute(AiDotNet.Tensors.LinearAlgebra.Vector{`0},AiDotNet.Tensors.LinearAlgebra.Vector{`0})">
  Compute(Vector&lt;T&gt;, Vector&lt;T&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L46"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Computes the metric comparing predicted labels to true labels.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract double Compute(Vector&lt;T&gt; trueLabels, Vector&lt;T&gt; predictedLabels)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>trueLabels</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Vector-1.html">Vector</a>&lt;T&gt;</dt>
    <dd><p>The ground truth labels.</p>
</dd>
    <dt><code>predictedLabels</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Vector-1.html">Vector</a>&lt;T&gt;</dt>
    <dd><p>The predicted cluster assignments.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The metric value.</p>
</dd>
  </dl>











  <a id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ComputeEntropy_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ComputeEntropy*"></a>

  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ComputeEntropy_AiDotNet_Tensors_LinearAlgebra_Vector__0__" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ComputeEntropy(AiDotNet.Tensors.LinearAlgebra.Vector{`0})">
  ComputeEntropy(Vector&lt;T&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L119"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Computes the entropy of a label vector.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected double ComputeEntropy(Vector&lt;T&gt; labels)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>labels</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Vector-1.html">Vector</a>&lt;T&gt;</dt>
    <dd><p>The label vector.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The entropy in bits.</p>
</dd>
  </dl>











  <a id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ComputeEntropyFromCounts_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ComputeEntropyFromCounts*"></a>

  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ComputeEntropyFromCounts_System_Collections_Generic_Dictionary_System_Int32_System_Int32__System_Int32_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ComputeEntropyFromCounts(System.Collections.Generic.Dictionary{System.Int32,System.Int32},System.Int32)">
  ComputeEntropyFromCounts(Dictionary&lt;int, int&gt;, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L98"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Computes the entropy of a label distribution.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected double ComputeEntropyFromCounts(Dictionary&lt;int, int&gt; counts, int total)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>counts</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.dictionary-2">Dictionary</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt;</dt>
    <dd><p>Dictionary mapping labels to their counts.</p>
</dd>
    <dt><code>total</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Total number of samples.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The entropy in bits.</p>
</dd>
  </dl>











  <a id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ComputeMutualInformation_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ComputeMutualInformation*"></a>

  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ComputeMutualInformation_System_Collections_Generic_Dictionary_System_ValueTuple_System_Int32_System_Int32__System_Int32__System_Collections_Generic_Dictionary_System_Int32_System_Int32__System_Collections_Generic_Dictionary_System_Int32_System_Int32__System_Int32_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ComputeMutualInformation(System.Collections.Generic.Dictionary{System.ValueTuple{System.Int32,System.Int32},System.Int32},System.Collections.Generic.Dictionary{System.Int32,System.Int32},System.Collections.Generic.Dictionary{System.Int32,System.Int32},System.Int32)">
  ComputeMutualInformation(Dictionary&lt;(int True, int Pred), int&gt;, Dictionary&lt;int, int&gt;, Dictionary&lt;int, int&gt;, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L144"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Computes mutual information from a contingency table.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected double ComputeMutualInformation(Dictionary&lt;(int True, int Pred), int&gt; contingency, Dictionary&lt;int, int&gt; trueCounts, Dictionary&lt;int, int&gt; predCounts, int total)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>contingency</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.dictionary-2">Dictionary</a>&lt;(<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.int32,system.int32-.true">True</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.int32,system.int32-.pred">Pred</a>), <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt;</dt>
    <dd><p>The contingency table.</p>
</dd>
    <dt><code>trueCounts</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.dictionary-2">Dictionary</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt;</dt>
    <dd><p>Counts per true label.</p>
</dd>
    <dt><code>predCounts</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.dictionary-2">Dictionary</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt;</dt>
    <dd><p>Counts per predicted label.</p>
</dd>
    <dt><code>total</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Total number of samples.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The mutual information in bits.</p>
</dd>
  </dl>











  <a id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ComputePairConfusionMatrix_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ComputePairConfusionMatrix*"></a>

  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ComputePairConfusionMatrix_AiDotNet_Tensors_LinearAlgebra_Vector__0__AiDotNet_Tensors_LinearAlgebra_Vector__0__" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ComputePairConfusionMatrix(AiDotNet.Tensors.LinearAlgebra.Vector{`0},AiDotNet.Tensors.LinearAlgebra.Vector{`0})">
  ComputePairConfusionMatrix(Vector&lt;T&gt;, Vector&lt;T&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L182"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Computes the pair confusion matrix components.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected (long A, long B, long C, long D) ComputePairConfusionMatrix(Vector&lt;T&gt; trueLabels, Vector&lt;T&gt; predictedLabels)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>trueLabels</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Vector-1.html">Vector</a>&lt;T&gt;</dt>
    <dd><p>The ground truth labels.</p>
</dd>
    <dt><code>predictedLabels</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Vector-1.html">Vector</a>&lt;T&gt;</dt>
    <dd><p>The predicted cluster assignments.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt>(<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int64">long</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.int64,system.int64,system.int64,system.int64-.a">A</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int64">long</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.int64,system.int64,system.int64,system.int64-.b">B</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int64">long</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.int64,system.int64,system.int64,system.int64-.c">C</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int64">long</a> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple-system.int64,system.int64,system.int64,system.int64-.d">D</a>)</dt>
    <dd><p>A tuple of (A, B, C, D) where:
A = pairs in same cluster in both clusterings
B = pairs in same cluster only in true labels
C = pairs in same cluster only in predicted labels
D = pairs in different clusters in both</p>
</dd>
  </dl>











  <a id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ValidateLabelVectors_" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ValidateLabelVectors*"></a>

  <h3 id="AiDotNet_Clustering_Evaluation_ExternalClusterMetricBase_1_ValidateLabelVectors_AiDotNet_Tensors_LinearAlgebra_Vector__0__AiDotNet_Tensors_LinearAlgebra_Vector__0__" data-uid="AiDotNet.Clustering.Evaluation.ExternalClusterMetricBase`1.ValidateLabelVectors(AiDotNet.Tensors.LinearAlgebra.Vector{`0},AiDotNet.Tensors.LinearAlgebra.Vector{`0})">
  ValidateLabelVectors(Vector&lt;T&gt;, Vector&lt;T&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L239"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Validates that the input label vectors have the same length.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected static void ValidateLabelVectors(Vector&lt;T&gt; trueLabels, Vector&lt;T&gt; predictedLabels)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>trueLabels</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Vector-1.html">Vector</a>&lt;T&gt;</dt>
    <dd><p>The ground truth labels.</p>
</dd>
    <dt><code>predictedLabels</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Vector-1.html">Vector</a>&lt;T&gt;</dt>
    <dd><p>The predicted cluster assignments.</p>
</dd>
  </dl>









  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd><p>Thrown when vectors have different lengths.</p>
</dd>
  </dl>




</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ooples/AiDotNet/blob/master/src/Clustering/Evaluation/ExternalClusterMetricBase.cs/#L25" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          AiDotNet - Enterprise AI/ML Library for .NET
        </div>
      </div>
    </footer>
  </body>
</html>
