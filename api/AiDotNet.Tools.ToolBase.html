<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class ToolBase | AiDotNet Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class ToolBase | AiDotNet Documentation ">
      
      <meta name="description" content="Provides a base implementation for tools with common functionality such as input validation and error handling.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ooples/AiDotNet/new/master/apiSpec/new?filename=AiDotNet_Tools_ToolBase.md&amp;value=---%0Auid%3A%20AiDotNet.Tools.ToolBase%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="AiDotNet">
            AiDotNet
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="AiDotNet.Tools.ToolBase">



  <h1 id="AiDotNet_Tools_ToolBase" data-uid="AiDotNet.Tools.ToolBase" class="text-break">
Class ToolBase  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L53"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="AiDotNet.html">AiDotNet</a>.<a class="xref" href="AiDotNet.Tools.html">Tools</a></dd></dl>
  <dl><dt>Assembly</dt><dd>AiDotNet.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Provides a base implementation for tools with common functionality such as input validation and error handling.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract class ToolBase : ITool</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">ToolBase</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="AiDotNet.Interfaces.ITool.html">ITool</a></div>
    </dd>
  </dl>

  <dl class="typelist derived">
    <dt>Derived</dt>
    <dd>
      <div><a class="xref" href="AiDotNet.Tools.AudioTransformTool-1.html">AudioTransformTool&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Tools.CrossValidationTool.html">CrossValidationTool</a></div>
      <div><a class="xref" href="AiDotNet.Tools.DataAnalysisTool.html">DataAnalysisTool</a></div>
      <div><a class="xref" href="AiDotNet.Tools.FeatureImportanceTool.html">FeatureImportanceTool</a></div>
      <div><a class="xref" href="AiDotNet.Tools.HyperparameterTool.html">HyperparameterTool</a></div>
      <div><a class="xref" href="AiDotNet.Tools.ImageTo3DTool-1.html">ImageTo3DTool&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Tools.ModelSelectionTool.html">ModelSelectionTool</a></div>
      <div><a class="xref" href="AiDotNet.Tools.RegularizationTool.html">RegularizationTool</a></div>
      <div><a class="xref" href="AiDotNet.Tools.ScoreDistillationTool-1.html">ScoreDistillationTool&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Tools.TextTo3DTool-1.html">TextTo3DTool&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Tools.TextToAudioTool-1.html">TextToAudioTool&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Tools.TextToImageTool-1.html">TextToImageTool&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Tools.TextToMusicTool-1.html">TextToMusicTool&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.Tools.ThreeDHyperparameterTool.html">ThreeDHyperparameterTool</a></div>
      <div><a class="xref" href="AiDotNet.Tools.ThreeDModelSelectionTool.html">ThreeDModelSelectionTool</a></div>
    </dd>
  </dl>

  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>




  <h2 id="AiDotNet_Tools_ToolBase_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
This abstract base class implements the ITool interface and provides standard input validation, JSON parsing,
and error handling that is common across all tool implementations. Derived classes only need to implement
the core tool-specific logic by overriding the ExecuteCore method. This design follows the Template Method
pattern, ensuring consistent behavior and error handling across all tools while eliminating code duplication.
</p>
<p><b>For Beginners:</b> This base class provides common functionality that all tools need, so individual
tool implementations don't have to repeat the same code.
<p>Why use a base class:</p>
<ul>
<li><strong>Eliminates duplication</strong>: All tools need input validation and error handling - write it once here</li>
<li><strong>Consistency</strong>: All tools handle errors the same way, providing a uniform experience</li>
<li><strong>Maintainability</strong>: If we need to change error handling, we change it in one place</li>
<li><strong>Simpler derived classes</strong>: Tool implementations focus only on their specific logic</li>
</ul>
<p>The Template Method pattern:
This class implements the public Execute method that:</p>
<ol>
<li>Validates the input (checks for null/empty)</li>
<li>Tries to execute the tool-specific logic (ExecuteCore)</li>
<li>Catches and handles errors gracefully</li>
<li>Returns a consistent error message format</li>
</ol>
<p>Derived tools only implement ExecuteCore with their specific logic:</p>
<pre><code class="lang-csharp">public class MyTool : ToolBase
{
    public override string Name =&gt; "MyTool";
    public override string Description =&gt; "Does something useful";

    protected override string ExecuteCore(string input)
    {
        // Tool-specific logic here
        // Input validation already done by base class
        // Errors automatically caught and formatted by base class
        return "Result";
    }
}</code></pre>
<p>This makes creating new tools much simpler and more consistent.</p>

</div>


  <h2 class="section" id="properties">Properties
</h2>


  <a id="AiDotNet_Tools_ToolBase_Description_" data-uid="AiDotNet.Tools.ToolBase.Description*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_Description" data-uid="AiDotNet.Tools.ToolBase.Description">
  Description
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L59"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets a detailed description of what the tool does and how to use it.
This description helps the agent understand when and how to use the tool effectively.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract string Description { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>A string describing the tool's functionality, input format, and expected output.</p>
</dd>
  </dl>








  <a id="AiDotNet_Tools_ToolBase_Name_" data-uid="AiDotNet.Tools.ToolBase.Name*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_Name" data-uid="AiDotNet.Tools.ToolBase.Name">
  Name
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L56"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the unique name of the tool.
This name is used by the agent to identify and invoke the tool.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract string Name { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>A string representing the tool's name (e.g., &quot;Calculator&quot;, &quot;Search&quot;, &quot;WebScraper&quot;).</p>
</dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="AiDotNet_Tools_ToolBase_Execute_" data-uid="AiDotNet.Tools.ToolBase.Execute*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_Execute_System_String_" data-uid="AiDotNet.Tools.ToolBase.Execute(System.String)">
  Execute(string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L62"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Executes the tool's operation with the provided input.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string Execute(string input)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>input</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The input string required by the tool to perform its operation.
The format and requirements of this input should be described in the Description property.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>A string containing the result of the tool's execution or an error message if execution fails.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Tools_ToolBase_Execute_System_String__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>For Beginners:
The Execute method is where the tool does its actual work. When called, it takes an input string,
processes it according to the tool's purpose, and returns a result string.</p>
<p>For example:</p>
<ul>
<li>A Calculator tool might take &quot;5 * 10&quot; as input and return &quot;50&quot;</li>
<li>A Search tool might take &quot;weather in New York&quot; and return &quot;Sunny, 72Â°F&quot;</li>
<li>A FileReader tool might take &quot;/path/to/file.txt&quot; and return the file's contents</li>
</ul>
<p>If something goes wrong (invalid input, error during execution), the method should return
a descriptive error message rather than throwing an exception, so the agent can understand
what went wrong and potentially try again with different input.</p>
</div>




  <a id="AiDotNet_Tools_ToolBase_ExecuteCore_" data-uid="AiDotNet.Tools.ToolBase.ExecuteCore*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_ExecuteCore_System_String_" data-uid="AiDotNet.Tools.ToolBase.ExecuteCore(System.String)">
  ExecuteCore(string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L128"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Executes the tool's core logic with validated input.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected abstract string ExecuteCore(string input)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>input</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The validated input string (guaranteed to be non-null and non-empty).</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The result of the tool's execution or an error message.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Tools_ToolBase_ExecuteCore_System_String__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Derived classes implement this method to provide their specific tool functionality. The input has already
been validated by the base class, so implementations can assume it's not null or empty. JSON parsing errors
and general exceptions are automatically caught and handled by the base class, so implementations can focus
on their core logic.
</p>
<p><b>For Beginners:</b> This is where you put the actual "work" your tool does.
<p>When you create a new tool, you override this method:</p>
<pre><code class="lang-csharp">protected override string ExecuteCore(string input)
{
    // Parse JSON input
    var json = JObject.Parse(input);

    // Extract what you need
    string value = json["some_field"]?.ToString() ?? "";

    // Do your tool's work
    string result = ProcessData(value);

    // Return the result
    return result;
}</code></pre>
<p>Benefits of overriding ExecuteCore instead of Execute:</p>
<ul>
<li>Input is already validated (not null/empty)</li>
<li>Errors are automatically caught and formatted nicely</li>
<li>You just focus on your tool's specific logic</li>
<li>Consistent error handling across all tools</li>
</ul>

</div>




  <a id="AiDotNet_Tools_ToolBase_GetEmptyInputErrorMessage_" data-uid="AiDotNet.Tools.ToolBase.GetEmptyInputErrorMessage*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_GetEmptyInputErrorMessage" data-uid="AiDotNet.Tools.ToolBase.GetEmptyInputErrorMessage">
  GetEmptyInputErrorMessage()
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L153"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the error message to return when input is null or empty.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual string GetEmptyInputErrorMessage()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>An error message indicating that input is required.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Tools_ToolBase_GetEmptyInputErrorMessage_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Derived classes can override this method to provide tool-specific empty input error messages.
The default implementation returns a generic message asking for JSON input.
</p>
<p><b>For Beginners:</b> This defines what error message users see if they don't provide any input.
<p>You can override this to provide a more helpful message specific to your tool:</p>
<pre><code class="lang-csharp">protected override string GetEmptyInputErrorMessage()
{
    return "Error: CalculatorTool requires a mathematical expression. " +
           "Example: { \"expression\": \"2 + 2\" }";
}</code></pre>
<p>If you don't override it, users get a generic &quot;input cannot be empty&quot; message.</p>

</div>




  <a id="AiDotNet_Tools_ToolBase_GetGenericErrorMessage_" data-uid="AiDotNet.Tools.ToolBase.GetGenericErrorMessage*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_GetGenericErrorMessage_System_Exception_" data-uid="AiDotNet.Tools.ToolBase.GetGenericErrorMessage(System.Exception)">
  GetGenericErrorMessage(Exception)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L221"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the error message to return when an unexpected exception occurs.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual string GetGenericErrorMessage(Exception ex)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>ex</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.exception">Exception</a></dt>
    <dd><p>The exception that occurred.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>A formatted error message describing the unexpected error.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Tools_ToolBase_GetGenericErrorMessage_System_Exception__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
This method formats unexpected exceptions into user-friendly error messages. The default implementation
includes the exception message. Derived classes can override this to provide tool-specific error handling
or additional context.
</p>
<p><b>For Beginners:</b> This handles any unexpected errors that occur while your tool runs.
<p>The default implementation works for most cases:</p>
<pre><code class="lang-csharp">Error: An unexpected error occurred during [tool name] execution. [Error details]</code></pre>
<p>You usually don't need to override this unless you want to:</p>
<ul>
<li>Add tool-specific troubleshooting advice</li>
<li>Log errors differently</li>
<li>Provide more context about what the tool was doing when it failed</li>
</ul>
<p>Example override:</p>
<pre><code class="lang-csharp">protected override string GetGenericErrorMessage(Exception ex)
{
    return $"Error: Calculator failed to evaluate expression. {ex.Message}\n" +
           "Tip: Ensure expression uses valid operators (+, -, *, /)";
}</code></pre>

</div>




  <a id="AiDotNet_Tools_ToolBase_GetJsonErrorMessage_" data-uid="AiDotNet.Tools.ToolBase.GetJsonErrorMessage*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_GetJsonErrorMessage_Newtonsoft_Json_JsonReaderException_" data-uid="AiDotNet.Tools.ToolBase.GetJsonErrorMessage(Newtonsoft.Json.JsonReaderException)">
  GetJsonErrorMessage(JsonReaderException)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L182"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the error message to return when JSON parsing fails.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual string GetJsonErrorMessage(JsonReaderException ex)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>ex</code> <span class="xref">JsonReaderException</span></dt>
    <dd><p>The JsonReaderException that occurred.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>A formatted error message explaining the JSON parsing failure.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Tools_ToolBase_GetJsonErrorMessage_Newtonsoft_Json_JsonReaderException__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Derived classes can override this method to provide tool-specific JSON error messages with
example input formats. The default implementation provides a generic JSON format error message.
</p>
<p><b>For Beginners:</b> This defines what error message users see if their JSON is invalid.
<p>You can override this to show the expected JSON format for your specific tool:</p>
<pre><code class="lang-csharp">protected override string GetJsonErrorMessage(JsonReaderException ex)
{
    return $"Error: Invalid JSON format. {ex.Message}\n" +
           "Expected format: { \"expression\": \"2 + 2\" }";
}</code></pre>
<p>This helps users understand exactly what JSON structure your tool expects.</p>

</div>




  <a id="AiDotNet_Tools_ToolBase_TryGetBool_" data-uid="AiDotNet.Tools.ToolBase.TryGetBool*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_TryGetBool_Newtonsoft_Json_Linq_JToken_System_String_System_Boolean_" data-uid="AiDotNet.Tools.ToolBase.TryGetBool(Newtonsoft.Json.Linq.JToken,System.String,System.Boolean)">
  TryGetBool(JToken, string, bool)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L322"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Helper method to safely try to get a boolean property from a JToken.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected static bool TryGetBool(JToken token, string propertyName, bool defaultValue = false)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>token</code> <span class="xref">JToken</span></dt>
    <dd><p>The JToken to query.</p>
</dd>
    <dt><code>propertyName</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The name of the property to retrieve.</p>
</dd>
    <dt><code>defaultValue</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>The default value to return if the property doesn't exist or cannot be converted.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>The property value as a boolean, or the default value if not found.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Tools_ToolBase_TryGetBool_Newtonsoft_Json_Linq_JToken_System_String_System_Boolean__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Safely reads true/false values from JSON.
<p>Example:</p>
<pre><code class="lang-csharp">bool isEnabled = TryGetBool(token, "is_enabled", false);</code></pre>

</div>




  <a id="AiDotNet_Tools_ToolBase_TryGetDouble_" data-uid="AiDotNet.Tools.ToolBase.TryGetDouble*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_TryGetDouble_Newtonsoft_Json_Linq_JToken_System_String_System_Double_" data-uid="AiDotNet.Tools.ToolBase.TryGetDouble(Newtonsoft.Json.Linq.JToken,System.String,System.Double)">
  TryGetDouble(JToken, string, double)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L301"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Helper method to safely try to get a double property from a JToken.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected static double TryGetDouble(JToken token, string propertyName, double defaultValue = 0)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>token</code> <span class="xref">JToken</span></dt>
    <dd><p>The JToken to query.</p>
</dd>
    <dt><code>propertyName</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The name of the property to retrieve.</p>
</dd>
    <dt><code>defaultValue</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The default value to return if the property doesn't exist or cannot be converted.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The property value as a double, or the default value if not found.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Tools_ToolBase_TryGetDouble_Newtonsoft_Json_Linq_JToken_System_String_System_Double__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Same as TryGetInt but for decimal numbers.
<p>Example:</p>
<pre><code class="lang-csharp">double rate = TryGetDouble(token, "learning_rate", 0.01);</code></pre>

</div>




  <a id="AiDotNet_Tools_ToolBase_TryGetInt_" data-uid="AiDotNet.Tools.ToolBase.TryGetInt*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_TryGetInt_Newtonsoft_Json_Linq_JToken_System_String_System_Int32_" data-uid="AiDotNet.Tools.ToolBase.TryGetInt(Newtonsoft.Json.Linq.JToken,System.String,System.Int32)">
  TryGetInt(JToken, string, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L280"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Helper method to safely try to get an integer property from a JToken.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected static int TryGetInt(JToken token, string propertyName, int defaultValue = 0)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>token</code> <span class="xref">JToken</span></dt>
    <dd><p>The JToken to query.</p>
</dd>
    <dt><code>propertyName</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The name of the property to retrieve.</p>
</dd>
    <dt><code>defaultValue</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The default value to return if the property doesn't exist or cannot be converted.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The property value as an integer, or the default value if not found.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Tools_ToolBase_TryGetInt_Newtonsoft_Json_Linq_JToken_System_String_System_Int32__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Same as TryGetString but for integer numbers.
<p>Example:</p>
<pre><code class="lang-csharp">int count = TryGetInt(token, "n_samples", 1000);
// If JSON has "n_samples": 5000, count will be 5000
// If "n_samples" is missing or invalid, count will be 1000</code></pre>

</div>




  <a id="AiDotNet_Tools_ToolBase_TryGetString_" data-uid="AiDotNet.Tools.ToolBase.TryGetString*"></a>

  <h3 id="AiDotNet_Tools_ToolBase_TryGetString_Newtonsoft_Json_Linq_JToken_System_String_System_String_" data-uid="AiDotNet.Tools.ToolBase.TryGetString(Newtonsoft.Json.Linq.JToken,System.String,System.String)">
  TryGetString(JToken, string, string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L257"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Helper method to safely try to get a property from a JToken.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected static string TryGetString(JToken token, string propertyName, string defaultValue = &quot;&quot;)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>token</code> <span class="xref">JToken</span></dt>
    <dd><p>The JToken to query.</p>
</dd>
    <dt><code>propertyName</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The name of the property to retrieve.</p>
</dd>
    <dt><code>defaultValue</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The default value to return if the property doesn't exist or cannot be converted.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The property value as a string, or the default value if not found.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Tools_ToolBase_TryGetString_Newtonsoft_Json_Linq_JToken_System_String_System_String__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
This utility method simplifies JSON property access by handling missing properties gracefully.
It eliminates the need for repetitive null checks in derived classes.
</p>
<p><b>For Beginners:</b> This helps you safely read values from JSON without crashing if they're missing.
<p>Instead of this verbose code:</p>
<pre><code class="lang-csharp">string value;
if (token[propertyName] != null)
    value = token[propertyName].ToString();
else
    value = "default";</code></pre>
<p>You can write this:</p>
<pre><code class="lang-csharp">string value = TryGetString(token, "name", "default");</code></pre>
<p>Much cleaner and handles all the edge cases for you!</p>

</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ooples/AiDotNet/blob/master/src/Tools/ToolBase.cs/#L53" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          AiDotNet - Enterprise AI/ML Library for .NET
        </div>
      </div>
    </footer>
  </body>
</html>
