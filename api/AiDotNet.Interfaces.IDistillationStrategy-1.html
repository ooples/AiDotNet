<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Interface IDistillationStrategy&lt;T&gt; | AiDotNet Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface IDistillationStrategy&lt;T&gt; | AiDotNet Documentation ">
      
      <meta name="description" content="Defines a strategy for computing knowledge distillation loss between student and teacher models.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ooples/AiDotNet/new/master/apiSpec/new?filename=AiDotNet_Interfaces_IDistillationStrategy_1.md&amp;value=---%0Auid%3A%20AiDotNet.Interfaces.IDistillationStrategy%601%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="AiDotNet">
            AiDotNet
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="AiDotNet.Interfaces.IDistillationStrategy`1">



  <h1 id="AiDotNet_Interfaces_IDistillationStrategy_1" data-uid="AiDotNet.Interfaces.IDistillationStrategy`1" class="text-break">
Interface IDistillationStrategy&lt;T&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IDistillationStrategy.cs/#L32"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="AiDotNet.html">AiDotNet</a>.<a class="xref" href="AiDotNet.Interfaces.html">Interfaces</a></dd></dl>
  <dl><dt>Assembly</dt><dd>AiDotNet.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Defines a strategy for computing knowledge distillation loss between student and teacher models.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IDistillationStrategy&lt;T&gt;</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>T</code></dt>
    <dd><p>The numeric type for calculations (e.g., double, float).</p>
</dd>
  </dl>








  <h2 id="AiDotNet_Interfaces_IDistillationStrategy_1_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p><b>For Beginners:</b> A distillation strategy determines how to measure the difference
between what the student predicts and what the teacher predicts. Different strategies can
focus on different aspects:
- Response-based: Compare final outputs
- Feature-based: Compare intermediate layer features
- Relation-based: Compare relationships between samples</p>
<p>The most common approach (Hinton et al., 2015) combines two losses:
1. Hard loss: How well the student matches the true labels
2. Soft loss: How well the student mimics the teacher's predictions</p>
<p>This combination allows the student to both get the right answers (hard loss) and
learn the teacher's reasoning (soft loss).</p>
<p><b>Batch Processing:</b> This interface operates on batches (Matrix&lt;T&gt;) for efficiency.
Each row in the matrices represents one sample in the batch.</p>
<p><b>Interface Design Note:</b> This interface uses a single type parameter &lt;T&gt; for
numeric operations. All input/output types are Matrix&lt;T&gt; for batch processing. There is no
second type parameter TOutput - the output type is always Matrix&lt;T&gt; for gradients and T for loss values.</p>
</div>


  <h2 class="section" id="properties">Properties
</h2>


  <a id="AiDotNet_Interfaces_IDistillationStrategy_1_Alpha_" data-uid="AiDotNet.Interfaces.IDistillationStrategy`1.Alpha*"></a>

  <h3 id="AiDotNet_Interfaces_IDistillationStrategy_1_Alpha" data-uid="AiDotNet.Interfaces.IDistillationStrategy`1.Alpha">
  Alpha
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IDistillationStrategy.cs/#L104"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the balance parameter (alpha) between hard loss and soft loss.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">double Alpha { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="AiDotNet_Interfaces_IDistillationStrategy_1_Alpha_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Alpha controls the trade-off between learning from true labels
and learning from the teacher:
- α = 0: Only learn from teacher (pure distillation)
- α = 0.3-0.5: Balanced (recommended for most cases)
- α = 1: Only learn from true labels (standard training, no distillation)</p>
<p>When true labels are noisy or scarce, lower alpha (more weight on teacher) helps.
When labels are clean and abundant, higher alpha (more weight on labels) works better.</p>
</div>




  <a id="AiDotNet_Interfaces_IDistillationStrategy_1_Temperature_" data-uid="AiDotNet.Interfaces.IDistillationStrategy`1.Temperature*"></a>

  <h3 id="AiDotNet_Interfaces_IDistillationStrategy_1_Temperature" data-uid="AiDotNet.Interfaces.IDistillationStrategy`1.Temperature">
  Temperature
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IDistillationStrategy.cs/#L89"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the temperature parameter for softening probability distributions.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">double Temperature { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="AiDotNet_Interfaces_IDistillationStrategy_1_Temperature_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Temperature controls how "soft" the predictions become:
- T = 1: Normal predictions (standard softmax)
- T = 2-10: Softer predictions that reveal more about class relationships
- Higher T: Even softer, but gradients become smaller</p>
<p>Typical values: 3-5 for most applications, 2-3 for easier tasks, 5-10 for harder tasks.</p>
</div>




  <h2 class="section" id="methods">Methods
</h2>


  <a id="AiDotNet_Interfaces_IDistillationStrategy_1_ComputeGradient_" data-uid="AiDotNet.Interfaces.IDistillationStrategy`1.ComputeGradient*"></a>

  <h3 id="AiDotNet_Interfaces_IDistillationStrategy_1_ComputeGradient_AiDotNet_Tensors_LinearAlgebra_Matrix__0__AiDotNet_Tensors_LinearAlgebra_Matrix__0__AiDotNet_Tensors_LinearAlgebra_Matrix__0__" data-uid="AiDotNet.Interfaces.IDistillationStrategy`1.ComputeGradient(AiDotNet.Tensors.LinearAlgebra.Matrix{`0},AiDotNet.Tensors.LinearAlgebra.Matrix{`0},AiDotNet.Tensors.LinearAlgebra.Matrix{`0})">
  ComputeGradient(Matrix&lt;T&gt;, Matrix&lt;T&gt;, Matrix&lt;T&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IDistillationStrategy.cs/#L76"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Computes the gradient of the distillation loss for backpropagation.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Matrix&lt;T&gt; ComputeGradient(Matrix&lt;T&gt; studentBatchOutput, Matrix&lt;T&gt; teacherBatchOutput, Matrix&lt;T&gt;? trueLabelsBatch = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>studentBatchOutput</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Matrix-1.html">Matrix</a>&lt;T&gt;</dt>
    <dd><p>The student model's output logits for a batch. Shape: [batch_size x num_classes]</p>
</dd>
    <dt><code>teacherBatchOutput</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Matrix-1.html">Matrix</a>&lt;T&gt;</dt>
    <dd><p>The teacher model's output logits for a batch. Shape: [batch_size x num_classes]</p>
</dd>
    <dt><code>trueLabelsBatch</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Matrix-1.html">Matrix</a>&lt;T&gt;</dt>
    <dd><p>Ground truth labels for the batch (optional). Shape: [batch_size x num_classes]</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Matrix-1.html">Matrix</a>&lt;T&gt;</dt>
    <dd><p>The gradient of the loss with respect to student outputs. Shape: [batch_size x num_classes]</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Interfaces_IDistillationStrategy_1_ComputeGradient_AiDotNet_Tensors_LinearAlgebra_Matrix__0__AiDotNet_Tensors_LinearAlgebra_Matrix__0__AiDotNet_Tensors_LinearAlgebra_Matrix__0___remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Gradients tell us how to adjust the student model's parameters
to reduce the loss. They point in the direction of steepest increase in loss, so we move
in the opposite direction during training.</p>
<p>The gradient combines information from both the teacher (soft targets) and the
true labels (hard targets), helping the student learn from both sources.</p>
<p><b>Batch Processing:</b> Returns a gradient matrix with the same shape as the input,
one gradient row for each sample in the batch.</p>
</div>




  <a id="AiDotNet_Interfaces_IDistillationStrategy_1_ComputeLoss_" data-uid="AiDotNet.Interfaces.IDistillationStrategy`1.ComputeLoss*"></a>

  <h3 id="AiDotNet_Interfaces_IDistillationStrategy_1_ComputeLoss_AiDotNet_Tensors_LinearAlgebra_Matrix__0__AiDotNet_Tensors_LinearAlgebra_Matrix__0__AiDotNet_Tensors_LinearAlgebra_Matrix__0__" data-uid="AiDotNet.Interfaces.IDistillationStrategy`1.ComputeLoss(AiDotNet.Tensors.LinearAlgebra.Matrix{`0},AiDotNet.Tensors.LinearAlgebra.Matrix{`0},AiDotNet.Tensors.LinearAlgebra.Matrix{`0})">
  ComputeLoss(Matrix&lt;T&gt;, Matrix&lt;T&gt;, Matrix&lt;T&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IDistillationStrategy.cs/#L56"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Computes the distillation loss between student and teacher batch outputs.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">T ComputeLoss(Matrix&lt;T&gt; studentBatchOutput, Matrix&lt;T&gt; teacherBatchOutput, Matrix&lt;T&gt;? trueLabelsBatch = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>studentBatchOutput</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Matrix-1.html">Matrix</a>&lt;T&gt;</dt>
    <dd><p>The student model's output logits for a batch. Shape: [batch_size x num_classes]</p>
</dd>
    <dt><code>teacherBatchOutput</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Matrix-1.html">Matrix</a>&lt;T&gt;</dt>
    <dd><p>The teacher model's output logits for a batch. Shape: [batch_size x num_classes]</p>
</dd>
    <dt><code>trueLabelsBatch</code> <a class="xref" href="AiDotNet.Tensors.LinearAlgebra.Matrix-1.html">Matrix</a>&lt;T&gt;</dt>
    <dd><p>Ground truth labels for the batch (optional). Shape: [batch_size x num_classes]</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><span class="xref">T</span></dt>
    <dd><p>The computed distillation loss value (scalar) for the batch.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Interfaces_IDistillationStrategy_1_ComputeLoss_AiDotNet_Tensors_LinearAlgebra_Matrix__0__AiDotNet_Tensors_LinearAlgebra_Matrix__0__AiDotNet_Tensors_LinearAlgebra_Matrix__0___remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> This calculates how different the student's predictions are
from the teacher's predictions across an entire batch of samples. A lower loss means
the student is learning well from the teacher.</p>
<p>The formula typically used is:
Total Loss = α × Hard Loss + (1 - α) × Soft Loss
<p>Where:</p>
<ul>
<li>Hard Loss: Cross-entropy between student predictions and true labels</li>
<li>Soft Loss: KL divergence between student and teacher (with temperature scaling)</li>
<li>α (alpha): Balance parameter (typically 0.3-0.5)</li>
</ul>
<p><b>Batch Processing:</b> The loss is typically averaged over all samples in the batch.</p>
</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IDistillationStrategy.cs/#L32" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          AiDotNet - Enterprise AI/ML Library for .NET
        </div>
      </div>
    </footer>
  </body>
</html>
