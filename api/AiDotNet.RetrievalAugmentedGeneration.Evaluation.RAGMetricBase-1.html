<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class RAGMetricBase&lt;T&gt; | AiDotNet Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class RAGMetricBase&lt;T&gt; | AiDotNet Documentation ">
      
      <meta name="description" content="Provides a base implementation for RAG evaluation metrics with common functionality.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ooples/AiDotNet/new/master/apiSpec/new?filename=AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1.md&amp;value=---%0Auid%3A%20AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase%601%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="AiDotNet">
            AiDotNet
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1">



  <h1 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1" class="text-break">
Class RAGMetricBase&lt;T&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L27"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="AiDotNet.html">AiDotNet</a>.<a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.html">RetrievalAugmentedGeneration</a>.<a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Evaluation.html">Evaluation</a></dd></dl>
  <dl><dt>Assembly</dt><dd>AiDotNet.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Provides a base implementation for RAG evaluation metrics with common functionality.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract class RAGMetricBase&lt;T&gt; : IRAGMetric&lt;T&gt;</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>T</code></dt>
    <dd></dd>
  </dl>

  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">RAGMetricBase&lt;T&gt;</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="AiDotNet.Interfaces.IRAGMetric-1.html">IRAGMetric</a>&lt;T&gt;</div>
    </dd>
  </dl>

  <dl class="typelist derived">
    <dt>Derived</dt>
    <dd>
      <div><a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Evaluation.AnswerCorrectnessMetric-1.html">AnswerCorrectnessMetric&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Evaluation.AnswerSimilarityMetric-1.html">AnswerSimilarityMetric&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Evaluation.ContextCoverageMetric-1.html">ContextCoverageMetric&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Evaluation.ContextRelevanceMetric-1.html">ContextRelevanceMetric&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Evaluation.FaithfulnessMetric-1.html">FaithfulnessMetric&lt;T&gt;</a></div>
      <div><a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Evaluation.NoiseRobustnessMetric-1.html">NoiseRobustnessMetric&lt;T&gt;</a></div>
    </dd>
  </dl>

  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>




  <h2 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
This abstract class implements the IRAGMetric interface and provides common validation
and utility methods for metric implementations. It ensures consistent behavior across
different metrics while allowing derived classes to focus on specific evaluation logic.
</p>
<p><b>For Beginners:</b> This is the foundation for all RAG metrics.
<p>It handles common tasks like:</p>
<ul>
<li>Validating inputs (checking for null values)</li>
<li>Normalizing scores (ensuring they're between 0 and 1)</li>
<li>Providing helper methods for common calculations</li>
</ul>
<p>Specific metrics (Faithfulness, Similarity, etc.) just need to implement
their specific scoring logic.</p>

</div>


  <h2 class="section" id="fields">Fields
</h2>



  <h3 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_NumOps" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.NumOps">
  NumOps
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L32"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Provides mathematical operations for the numeric type T.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected static readonly INumericOperations&lt;T&gt; NumOps</code></pre>
  </div>




  <h4 class="section">Field Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="AiDotNet.Tensors.Interfaces.INumericOperations-1.html">INumericOperations</a>&lt;T&gt;</dt>
    <dd></dd>
  </dl>









  <h2 class="section" id="properties">Properties
</h2>


  <a id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_Description_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.Description*"></a>

  <h3 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_Description" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.Description">
  Description
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L42"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the description of what this metric measures.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract string Description { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <a id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_Name_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.Name*"></a>

  <h3 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_Name" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.Name">
  Name
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L37"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the name of this metric.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract string Name { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd></dd>
  </dl>








  <a id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_RequiresGroundTruth_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.RequiresGroundTruth*"></a>

  <h3 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_RequiresGroundTruth" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.RequiresGroundTruth">
  RequiresGroundTruth
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L64"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets a value indicating whether this metric requires ground truth for evaluation.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected abstract bool RequiresGroundTruth { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_Evaluate_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.Evaluate*"></a>

  <h3 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_Evaluate_AiDotNet_RetrievalAugmentedGeneration_Models_GroundedAnswer__0__System_String_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.Evaluate(AiDotNet.RetrievalAugmentedGeneration.Models.GroundedAnswer{`0},System.String)">
  Evaluate(GroundedAnswer&lt;T&gt;, string?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L50"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Evaluates a grounded answer and returns a score.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public T Evaluate(GroundedAnswer&lt;T&gt; answer, string? groundTruth = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>answer</code> <a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Models.GroundedAnswer-1.html">GroundedAnswer</a>&lt;T&gt;</dt>
    <dd><p>The grounded answer to evaluate.</p>
</dd>
    <dt><code>groundTruth</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The expected/correct answer (null for reference-free metrics).</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><span class="xref">T</span></dt>
    <dd><p>A score between 0 and 1, where 1 is perfect.</p>
</dd>
  </dl>











  <a id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_EvaluateCore_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.EvaluateCore*"></a>

  <h3 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_EvaluateCore_AiDotNet_RetrievalAugmentedGeneration_Models_GroundedAnswer__0__System_String_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.EvaluateCore(AiDotNet.RetrievalAugmentedGeneration.Models.GroundedAnswer{`0},System.String)">
  EvaluateCore(GroundedAnswer&lt;T&gt;, string?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L72"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Core evaluation logic to be implemented by derived classes.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected abstract T EvaluateCore(GroundedAnswer&lt;T&gt; answer, string? groundTruth)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>answer</code> <a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Models.GroundedAnswer-1.html">GroundedAnswer</a>&lt;T&gt;</dt>
    <dd><p>The validated grounded answer.</p>
</dd>
    <dt><code>groundTruth</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The ground truth (if required).</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><span class="xref">T</span></dt>
    <dd><p>A score (will be clamped to 0-1 range).</p>
</dd>
  </dl>











  <a id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_GetWords_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.GetWords*"></a>

  <h3 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_GetWords_System_String_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.GetWords(System.String)">
  GetWords(string)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L92"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Extracts words from text.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected HashSet&lt;string&gt; GetWords(string text)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>text</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The text to process.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.hashset-1">HashSet</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a>&gt;</dt>
    <dd><p>Set of lowercase words.</p>
</dd>
  </dl>











  <a id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_ValidateAnswer_" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.ValidateAnswer*"></a>

  <h3 id="AiDotNet_RetrievalAugmentedGeneration_Evaluation_RAGMetricBase_1_ValidateAnswer_AiDotNet_RetrievalAugmentedGeneration_Models_GroundedAnswer__0__" data-uid="AiDotNet.RetrievalAugmentedGeneration.Evaluation.RAGMetricBase`1.ValidateAnswer(AiDotNet.RetrievalAugmentedGeneration.Models.GroundedAnswer{`0})">
  ValidateAnswer(GroundedAnswer&lt;T&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L78"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Validates the grounded answer.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected virtual void ValidateAnswer(GroundedAnswer&lt;T&gt; answer)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>answer</code> <a class="xref" href="AiDotNet.RetrievalAugmentedGeneration.Models.GroundedAnswer-1.html">GroundedAnswer</a>&lt;T&gt;</dt>
    <dd><p>The answer to validate.</p>
</dd>
  </dl>













</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ooples/AiDotNet/blob/master/src/RetrievalAugmentedGeneration/Evaluation/RAGMetricBase.cs/#L27" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          AiDotNet - Enterprise AI/ML Library for .NET
        </div>
      </div>
    </footer>
  </body>
</html>
