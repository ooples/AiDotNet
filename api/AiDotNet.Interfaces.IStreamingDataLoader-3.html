<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Interface IStreamingDataLoader&lt;T, TInput, TOutput&gt; | AiDotNet Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface IStreamingDataLoader&lt;T, TInput, TOutput&gt; | AiDotNet Documentation ">
      
      <meta name="description" content="Interface for streaming data loaders that process data on-demand without loading all data into memory.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ooples/AiDotNet/new/master/apiSpec/new?filename=AiDotNet_Interfaces_IStreamingDataLoader_3.md&amp;value=---%0Auid%3A%20AiDotNet.Interfaces.IStreamingDataLoader%603%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="AiDotNet">
            AiDotNet
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3">



  <h1 id="AiDotNet_Interfaces_IStreamingDataLoader_3" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3" class="text-break">
Interface IStreamingDataLoader&lt;T, TInput, TOutput&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IStreamingDataLoader.cs/#L31"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="AiDotNet.html">AiDotNet</a>.<a class="xref" href="AiDotNet.Interfaces.html">Interfaces</a></dd></dl>
  <dl><dt>Assembly</dt><dd>AiDotNet.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Interface for streaming data loaders that process data on-demand without loading all data into memory.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IStreamingDataLoader&lt;T, TInput, TOutput&gt; : IDataLoader&lt;T&gt;, IResettable, ICountable</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>T</code></dt>
    <dd><p>The numeric type used for calculations, typically float or double.</p>
</dd>
    <dt><code>TInput</code></dt>
    <dd><p>The input data type for each sample.</p>
</dd>
    <dt><code>TOutput</code></dt>
    <dd><p>The output/label data type for each sample.</p>
</dd>
  </dl>




  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.IDataLoader-1.html#AiDotNet_Interfaces_IDataLoader_1_Name">IDataLoader&lt;T&gt;.Name</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.IDataLoader-1.html#AiDotNet_Interfaces_IDataLoader_1_Description">IDataLoader&lt;T&gt;.Description</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.IDataLoader-1.html#AiDotNet_Interfaces_IDataLoader_1_IsLoaded">IDataLoader&lt;T&gt;.IsLoaded</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.IDataLoader-1.html#AiDotNet_Interfaces_IDataLoader_1_LoadAsync_System_Threading_CancellationToken_">IDataLoader&lt;T&gt;.LoadAsync(CancellationToken)</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.IDataLoader-1.html#AiDotNet_Interfaces_IDataLoader_1_Unload">IDataLoader&lt;T&gt;.Unload()</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.IResettable.html#AiDotNet_Interfaces_IResettable_Reset">IResettable.Reset()</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.ICountable.html#AiDotNet_Interfaces_ICountable_TotalCount">ICountable.TotalCount</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.ICountable.html#AiDotNet_Interfaces_ICountable_CurrentIndex">ICountable.CurrentIndex</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.ICountable.html#AiDotNet_Interfaces_ICountable_BatchCount">ICountable.BatchCount</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.ICountable.html#AiDotNet_Interfaces_ICountable_CurrentBatchIndex">ICountable.CurrentBatchIndex</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Interfaces.ICountable.html#AiDotNet_Interfaces_ICountable_Progress">ICountable.Progress</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="AiDotNet.Data.Pipeline.DataPipelineExtensions.html#AiDotNet_Data_Pipeline_DataPipelineExtensions_ToAsyncPipeline__3_AiDotNet_Interfaces_IStreamingDataLoader___0___1___2__System_Boolean_System_Nullable_System_Int32__">DataPipelineExtensions.ToAsyncPipeline&lt;T, TInput, TOutput&gt;(IStreamingDataLoader&lt;T, TInput, TOutput&gt;, bool, int?)</a>
  </div>
  <div>
      <a class="xref" href="AiDotNet.Data.Pipeline.DataPipelineExtensions.html#AiDotNet_Data_Pipeline_DataPipelineExtensions_ToPipeline__3_AiDotNet_Interfaces_IStreamingDataLoader___0___1___2__System_Boolean_System_Nullable_System_Int32__">DataPipelineExtensions.ToPipeline&lt;T, TInput, TOutput&gt;(IStreamingDataLoader&lt;T, TInput, TOutput&gt;, bool, int?)</a>
  </div>
  <div>
      <a class="xref" href="AiDotNet.Data.Pipeline.DataPipelineExtensions.html#AiDotNet_Data_Pipeline_DataPipelineExtensions_ToSamplePipeline__3_AiDotNet_Interfaces_IStreamingDataLoader___0___1___2__System_Boolean_System_Nullable_System_Int32__">DataPipelineExtensions.ToSamplePipeline&lt;T, TInput, TOutput&gt;(IStreamingDataLoader&lt;T, TInput, TOutput&gt;, bool, int?)</a>
  </div>
  </dd></dl>



  <h2 id="AiDotNet_Interfaces_IStreamingDataLoader_3_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
IStreamingDataLoader is designed for datasets that are too large to fit in memory.
Unlike IInputOutputDataLoader which provides Features and Labels properties for all data,
streaming loaders read data on-demand and yield batches through iteration.
</p>
<p><b>For Beginners:</b> When your dataset is too large to fit in RAM (like millions
of images or text documents), you can't load it all at once. Streaming data loaders
solve this by reading data piece by piece as needed during training.
<p>Example usage:</p>
<pre><code class="lang-csharp">var loader = DataLoaders.FromCsv&lt;float&gt;("huge_dataset.csv", parseRow);
loader.BatchSize = 32; // Set batch size before iteration

await foreach (var (inputs, labels) in loader.GetBatchesAsync())
{
    await model.TrainOnBatchAsync(inputs, labels);
}</code></pre>

</div>


  <h2 class="section" id="properties">Properties
</h2>


  <a id="AiDotNet_Interfaces_IStreamingDataLoader_3_BatchSize_" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.BatchSize*"></a>

  <h3 id="AiDotNet_Interfaces_IStreamingDataLoader_3_BatchSize" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.BatchSize">
  BatchSize
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IStreamingDataLoader.cs/#L45"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the batch size for iteration.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int BatchSize { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <a id="AiDotNet_Interfaces_IStreamingDataLoader_3_NumWorkers_" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.NumWorkers*"></a>

  <h3 id="AiDotNet_Interfaces_IStreamingDataLoader_3_NumWorkers" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.NumWorkers">
  NumWorkers
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IStreamingDataLoader.cs/#L55"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the number of parallel workers for sample loading.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int NumWorkers { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <a id="AiDotNet_Interfaces_IStreamingDataLoader_3_PrefetchCount_" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.PrefetchCount*"></a>

  <h3 id="AiDotNet_Interfaces_IStreamingDataLoader_3_PrefetchCount" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.PrefetchCount">
  PrefetchCount
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IStreamingDataLoader.cs/#L50"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the number of batches to prefetch for improved throughput.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int PrefetchCount { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <a id="AiDotNet_Interfaces_IStreamingDataLoader_3_SampleCount_" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.SampleCount*"></a>

  <h3 id="AiDotNet_Interfaces_IStreamingDataLoader_3_SampleCount" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.SampleCount">
  SampleCount
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IStreamingDataLoader.cs/#L40"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the total number of samples in the dataset.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int SampleCount { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="AiDotNet_Interfaces_IStreamingDataLoader_3_SampleCount_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This may be known upfront (e.g., from file metadata) or estimated.
For truly streaming sources where the count is unknown, this may return -1.</p>
</div>




  <h2 class="section" id="methods">Methods
</h2>


  <a id="AiDotNet_Interfaces_IStreamingDataLoader_3_GetBatches_" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.GetBatches*"></a>

  <h3 id="AiDotNet_Interfaces_IStreamingDataLoader_3_GetBatches_System_Boolean_System_Boolean_System_Nullable_System_Int32__" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.GetBatches(System.Boolean,System.Boolean,System.Nullable{System.Int32})">
  GetBatches(bool, bool, int?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IStreamingDataLoader.cs/#L69"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Iterates through the dataset in batches synchronously.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IEnumerable&lt;(TInput[] Inputs, TOutput[] Outputs)&gt; GetBatches(bool shuffle = true, bool dropLast = false, int? seed = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>shuffle</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether to shuffle the data before batching.</p>
</dd>
    <dt><code>dropLast</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether to drop the last incomplete batch.</p>
</dd>
    <dt><code>seed</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>?</dt>
    <dd><p>Optional random seed for reproducibility.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;(TInput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.inputs">Inputs</a>, TOutput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.outputs">Outputs</a>)&gt;</dt>
    <dd><p>An enumerable of batches, each containing arrays of inputs and outputs.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Interfaces_IStreamingDataLoader_3_GetBatches_System_Boolean_System_Boolean_System_Nullable_System_Int32___remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Use this when you want simple, synchronous iteration.
Each iteration gives you a batch of inputs and their corresponding outputs.
</p>
</div>




  <a id="AiDotNet_Interfaces_IStreamingDataLoader_3_GetBatchesAsync_" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.GetBatchesAsync*"></a>

  <h3 id="AiDotNet_Interfaces_IStreamingDataLoader_3_GetBatchesAsync_System_Boolean_System_Boolean_System_Nullable_System_Int32__System_Threading_CancellationToken_" data-uid="AiDotNet.Interfaces.IStreamingDataLoader`3.GetBatchesAsync(System.Boolean,System.Boolean,System.Nullable{System.Int32},System.Threading.CancellationToken)">
  GetBatchesAsync(bool, bool, int?, CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IStreamingDataLoader.cs/#L96"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Iterates through the dataset in batches asynchronously with prefetching.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">IAsyncEnumerable&lt;(TInput[] Inputs, TOutput[] Outputs)&gt; GetBatchesAsync(bool shuffle = true, bool dropLast = false, int? seed = null, CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>shuffle</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether to shuffle the data before batching.</p>
</dd>
    <dt><code>dropLast</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Whether to drop the last incomplete batch.</p>
</dd>
    <dt><code>seed</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>?</dt>
    <dd><p>Optional random seed for reproducibility.</p>
</dd>
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>Token to cancel the iteration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.iasyncenumerable-1">IAsyncEnumerable</a>&lt;(TInput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.inputs">Inputs</a>, TOutput[] <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetuple--1[],-2[]-.outputs">Outputs</a>)&gt;</dt>
    <dd><p>An async enumerable of batches, each containing arrays of inputs and outputs.</p>
</dd>
  </dl>







  <h4 class="section" id="AiDotNet_Interfaces_IStreamingDataLoader_3_GetBatchesAsync_System_Boolean_System_Boolean_System_Nullable_System_Int32__System_Threading_CancellationToken__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> This is the recommended method for training.
It uses async/await to overlap data loading with model training, keeping
your GPU busy while the next batch is being prepared.
<p>Example:</p>
<pre><code class="lang-csharp">await foreach (var batch in loader.GetBatchesAsync(shuffle: true))
{
    await model.TrainOnBatchAsync(batch.Inputs, batch.Outputs);
}</code></pre>

</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ooples/AiDotNet/blob/master/src/Interfaces/IStreamingDataLoader.cs/#L31" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          AiDotNet - Enterprise AI/ML Library for .NET
        </div>
      </div>
    </footer>
  </body>
</html>
