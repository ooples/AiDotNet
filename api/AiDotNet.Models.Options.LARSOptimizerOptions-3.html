<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class LARSOptimizerOptions&lt;T, TInput, TOutput&gt; | AiDotNet Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class LARSOptimizerOptions&lt;T, TInput, TOutput&gt; | AiDotNet Documentation ">
      
      <meta name="description" content="Configuration options for the LARS (Layer-wise Adaptive Rate Scaling) optimization algorithm.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/ooples/AiDotNet/new/master/apiSpec/new?filename=AiDotNet_Models_Options_LARSOptimizerOptions_3.md&amp;value=---%0Auid%3A%20AiDotNet.Models.Options.LARSOptimizerOptions%603%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="AiDotNet">
            AiDotNet
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3">



  <h1 id="AiDotNet_Models_Options_LARSOptimizerOptions_3" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3" class="text-break">
Class LARSOptimizerOptions&lt;T, TInput, TOutput&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L38"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="AiDotNet.html">AiDotNet</a>.<a class="xref" href="AiDotNet.Models.html">Models</a>.<a class="xref" href="AiDotNet.Models.Options.html">Options</a></dd></dl>
  <dl><dt>Assembly</dt><dd>AiDotNet.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Configuration options for the LARS (Layer-wise Adaptive Rate Scaling) optimization algorithm.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class LARSOptimizerOptions&lt;T, TInput, TOutput&gt; : GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>T</code></dt>
    <dd></dd>
    <dt><code>TInput</code></dt>
    <dd></dd>
    <dt><code>TOutput</code></dt>
    <dd></dd>
  </dl>

  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><a class="xref" href="AiDotNet.Models.Options.ModelOptions.html">ModelOptions</a></div>
      <div><a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html">OptimizationAlgorithmOptions</a>&lt;T, TInput, TOutput&gt;</div>
      <div><a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html">GradientBasedOptimizerOptions</a>&lt;T, TInput, TOutput&gt;</div>
      <div><span class="xref">LARSOptimizerOptions&lt;T, TInput, TOutput&gt;</span></div>
    </dd>
  </dl>



  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_GradientCache">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.GradientCache</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_LossFunction">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.LossFunction</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_Regularization">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.Regularization</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_DataSampler">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.DataSampler</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_ShuffleData">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.ShuffleData</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_DropLastBatch">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.DropLastBatch</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_RandomSeed">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.RandomSeed</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_EnableGradientClipping">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.EnableGradientClipping</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_GradientClippingMethod">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.GradientClippingMethod</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_MaxGradientNorm">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.MaxGradientNorm</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_MaxGradientValue">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.MaxGradientValue</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_LearningRateScheduler">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.LearningRateScheduler</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.GradientBasedOptimizerOptions-3.html#AiDotNet_Models_Options_GradientBasedOptimizerOptions_3_SchedulerStepMode">GradientBasedOptimizerOptions&lt;T, TInput, TOutput&gt;.SchedulerStepMode</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MaxIterations">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MaxIterations</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_UseEarlyStopping">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.UseEarlyStopping</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_EarlyStoppingPatience">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.EarlyStoppingPatience</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_BadFitPatience">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.BadFitPatience</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MinimumFeatures">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MinimumFeatures</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MaximumFeatures">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MaximumFeatures</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_UseExpressionTrees">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.UseExpressionTrees</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_InitialLearningRate">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.InitialLearningRate</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_UseAdaptiveLearningRate">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.UseAdaptiveLearningRate</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_LearningRateDecay">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.LearningRateDecay</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MinLearningRate">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MinLearningRate</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MaxLearningRate">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MaxLearningRate</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_UseAdaptiveMomentum">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.UseAdaptiveMomentum</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_InitialMomentum">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.InitialMomentum</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MomentumIncreaseFactor">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MomentumIncreaseFactor</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MomentumDecreaseFactor">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MomentumDecreaseFactor</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MinMomentum">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MinMomentum</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MaxMomentum">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MaxMomentum</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_ExplorationRate">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.ExplorationRate</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MinExplorationRate">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MinExplorationRate</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_MaxExplorationRate">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.MaxExplorationRate</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_Tolerance">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.Tolerance</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_OptimizationMode">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.OptimizationMode</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_ParameterAdjustmentScale">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.ParameterAdjustmentScale</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_SignFlipProbability">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.SignFlipProbability</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_FeatureSelectionProbability">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.FeatureSelectionProbability</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_ParameterAdjustmentProbability">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.ParameterAdjustmentProbability</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_PredictionOptions">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.PredictionOptions</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_ModelStatsOptions">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.ModelStatsOptions</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_ModelEvaluator">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.ModelEvaluator</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_FitDetector">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.FitDetector</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_FitnessCalculator">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.FitnessCalculator</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_ModelCache">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.ModelCache</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.OptimizationAlgorithmOptions-3.html#AiDotNet_Models_Options_OptimizationAlgorithmOptions_3_CreateDefaults_AiDotNet_Enums_OptimizerType_">OptimizationAlgorithmOptions&lt;T, TInput, TOutput&gt;.CreateDefaults(OptimizerType)</a>
    </div>
    <div>
      <a class="xref" href="AiDotNet.Models.Options.ModelOptions.html#AiDotNet_Models_Options_ModelOptions_Seed">ModelOptions.Seed</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>



  <h2 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_examples">Examples</h2>
  <pre><code class="lang-csharp">var options = new LARSOptimizerOptions&lt;float, Matrix&lt;float&gt;, Vector&lt;float&gt;&gt;
{
    LearningRate = 0.3,        // Base learning rate (will be scaled per-layer)
    Momentum = 0.9,            // Standard momentum
    WeightDecay = 1e-4,        // Weight decay
    TrustCoefficient = 0.001,  // Controls layer-wise LR scaling
    BatchSize = 4096           // Large batch size for SSL
};
var optimizer = new LARSOptimizer&lt;float, Matrix&lt;float&gt;, Vector&lt;float&gt;&gt;(model, options);</code></pre>


  <h2 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
LARS (Layer-wise Adaptive Rate Scaling) is designed for training with very large batch sizes
(4096-32768). It automatically adapts the learning rate for each layer based on the ratio
of parameter norm to gradient norm, which helps maintain stable training with large batches.
</p>
<p><b>For Beginners:</b> When training with large batches (common in self-supervised learning),
regular optimizers can become unstable. LARS solves this by automatically adjusting learning rates
for each layer based on how "big" the weights and gradients are. This makes training more stable
and allows you to use much larger batch sizes, which speeds up training significantly.
</p>
<p>
LARS is particularly important for self-supervised learning methods like SimCLR, which achieve
their best results with batch sizes of 4096-8192.
</p>
<p>
Based on the paper "Large Batch Training of Convolutional Networks" by You et al. (2017).
</p>
</div>


  <h2 class="section" id="properties">Properties
</h2>


  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_BatchSize_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.BatchSize*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_BatchSize" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.BatchSize">
  BatchSize
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L49"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the batch size for mini-batch gradient descent.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int BatchSize { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>A positive integer, defaulting to 4096 for large batch SSL training.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_BatchSize_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> LARS is specifically designed for large batch sizes.
The default of 4096 is typical for self-supervised learning. You can go up to 32768
with proper learning rate warmup.</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_Epsilon_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.Epsilon*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_Epsilon" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.Epsilon">
  Epsilon
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L109"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets a small constant added to denominators to prevent division by zero.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public double Epsilon { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The epsilon value, defaulting to 1e-8.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_Epsilon_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> This is a tiny safety value to prevent numerical issues.
You rarely need to change this unless you experience NaN values during training.</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_ExcludeBiasFromLARS_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.ExcludeBiasFromLARS*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_ExcludeBiasFromLARS" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.ExcludeBiasFromLARS">
  ExcludeBiasFromLARS
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L124"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets whether to exclude bias parameters and normalization layer parameters from LARS scaling.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool ExcludeBiasFromLARS { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>True to exclude biases from LARS (default), false to apply LARS to all parameters.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_ExcludeBiasFromLARS_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
In the original LARS paper and most implementations, bias terms and normalization layer
parameters (BatchNorm, LayerNorm) are excluded from the layer-wise scaling and only use
the base learning rate with momentum.
</p>
<p><b>For Beginners:</b> Some parameters like biases work better with regular learning
rates rather than LARS scaling. Keeping this true (default) follows best practices.</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_InitialLearningRate_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.InitialLearningRate*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_InitialLearningRate" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.InitialLearningRate">
  InitialLearningRate
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L61"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the base learning rate for the LARS optimizer.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public double InitialLearningRate { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The learning rate, defaulting to 0.3.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_InitialLearningRate_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Unlike Adam which typically uses small learning rates (0.001),
LARS uses larger base learning rates (0.1-1.0) because it automatically scales them per layer.
The default of 0.3 works well for most SSL tasks. Use linear scaling: LR = base_lr * batch_size / 256.
</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_LayerBoundaries_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.LayerBoundaries*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_LayerBoundaries" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.LayerBoundaries">
  LayerBoundaries
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L155"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the layer size boundaries for layer-wise scaling.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int[]? LayerBoundaries { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>[]</dt>
    <dd><p>Array of layer sizes that define boundaries between layers for LARS scaling.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_LayerBoundaries_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
LARS applies different scaling factors to different layers. This array defines the
cumulative sizes of parameters that belong to each layer. If null, each parameter
vector is treated as a single layer.
</p>
<p><b>For Beginners:</b> This tells LARS where one layer ends and another begins
in the flattened parameter vector. If not set, LARS treats all parameters as one layer,
which still works but is less optimal than true layer-wise scaling.</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_Momentum_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.Momentum*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_Momentum" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.Momentum">
  Momentum
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L72"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the momentum coefficient for the optimizer.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public double Momentum { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The momentum value, defaulting to 0.9.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_Momentum_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Momentum helps the optimizer maintain direction through
noisy gradients. A value of 0.9 means 90% of the update comes from the previous direction.
Higher values (up to 0.99) can help with very large batches.</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_SkipLARSLayers_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.SkipLARSLayers*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_SkipLARSLayers" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.SkipLARSLayers">
  SkipLARSLayers
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L169"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets which layers should skip LARS scaling and use only the base learning rate.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int[]? SkipLARSLayers { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>[]</dt>
    <dd><p>Array of layer indices to skip LARS scaling for.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_SkipLARSLayers_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Some layers (particularly the final classifier head) may work better without LARS scaling.
This array specifies which layer indices should use only the base learning rate.
</p>
<p><b>For Beginners:</b> In self-supervised learning, you typically want to skip LARS
for the projection head layers that are discarded after pretraining anyway.</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_TrustCoefficient_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.TrustCoefficient*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_TrustCoefficient" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.TrustCoefficient">
  TrustCoefficient
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L99"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the LARS trust coefficient (eta).</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public double TrustCoefficient { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The trust coefficient, defaulting to 0.001.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_TrustCoefficient_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
The trust coefficient controls how much the layer-wise learning rate scaling affects the update.
A smaller value means more conservative scaling, while a larger value allows larger per-layer
learning rate adjustments.
</p>
<p><b>For Beginners:</b> This controls how aggressively LARS adapts learning rates per layer.
The default of 0.001 is well-tested. Smaller values (0.0001) are more conservative, larger
values (0.01) more aggressive. Stick with the default unless you have specific issues.</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_UseNesterov_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.UseNesterov*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_UseNesterov" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.UseNesterov">
  UseNesterov
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L180"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets whether to use Nesterov momentum instead of standard momentum.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool UseNesterov { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>True to use Nesterov momentum, false for standard momentum. Default: false</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_UseNesterov_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Nesterov momentum looks ahead before computing gradients,
which can help with convergence. It's slightly more complex but can improve results.
The default (standard momentum) works well for most SSL tasks.</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_WarmupEpochs_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.WarmupEpochs*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_WarmupEpochs" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.WarmupEpochs">
  WarmupEpochs
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L139"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the number of warmup steps for learning rate warmup.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int WarmupEpochs { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The number of warmup steps, defaulting to 10 epochs worth of steps.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_WarmupEpochs_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
Learning rate warmup gradually increases the learning rate from 0 to the target value
over the specified number of steps. This helps stabilize large batch training.
</p>
<p><b>For Beginners:</b> When training with large batches, starting with a full learning
rate can cause training to diverge. Warmup slowly increases the learning rate, giving the
model time to stabilize. A warmup of 10 epochs is typical for SSL.</p>
</div>




  <a id="AiDotNet_Models_Options_LARSOptimizerOptions_3_WeightDecay_" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.WeightDecay*"></a>

  <h3 id="AiDotNet_Models_Options_LARSOptimizerOptions_3_WeightDecay" data-uid="AiDotNet.Models.Options.LARSOptimizerOptions`3.WeightDecay">
  WeightDecay
  <a class="header-action link-secondary" title="View source" href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L83"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the weight decay coefficient.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public double WeightDecay { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.double">double</a></dt>
    <dd><p>The weight decay coefficient, defaulting to 1e-4.</p>
</dd>
  </dl>




  <h4 class="section" id="AiDotNet_Models_Options_LARSOptimizerOptions_3_WeightDecay_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p><b>For Beginners:</b> Weight decay prevents the model weights from growing too large.
LARS incorporates weight decay into the layer-wise learning rate calculation, which helps
with numerical stability during large batch training.</p>
</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/ooples/AiDotNet/blob/master/src/Models/Options/LARSOptimizerOptions.cs/#L38" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          AiDotNet - Enterprise AI/ML Library for .NET
        </div>
      </div>
    </footer>
  </body>
</html>
